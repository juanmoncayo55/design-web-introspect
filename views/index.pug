extends layout.pug
block vars
	- var log = loggued;
block content
	section.banner-bg
		.contenedor.contenedor-banner
			h2.no-margin.banner-bg__title
				| Introspect: 
				span.banner-bg__span
					| A free + Fully Responsive
					br
					| Site Template By Templated
			a.boton(href='#') Get Started
	.contenedor.entrada
		h3.no-margin.entrada__title Nustra historia
		p.no-margin.entrada__description.textos
			| Somos una plataforma de publicación de blogs que permite a los usuarios registrados compartir sus pensamientos y opiniones con el mundo. Nuestro objetivo es proporcionar una plataforma fácil de usar y accesible para que cualquier persona pueda compartir su voz. Comenzamos como un proyecto de pasatiempo hace unos años, pero rápidamente nos dimos cuenta del potencial que tenía nuestra plataforma. Desde entonces, hemos trabajado duro para mejorar y expandir nuestra plataforma para que sea más fácil de usar y más accesible para todos...
		a.boton.boton--secundario(href='/somos') Leer más
	section.read-articles
		.read-articles__contenedor
			article.read-articles__article
				.read-articles__d1
					h4.read-articles__title In hac habitasse platea
					.read-articles__imagen
						img(src='images/pic01.jpg' alt='articulo imagen')
					p.read-articles__description.textos
						| Maecenas dignissim porttitor lacus ut posuere. Nulla ultrices ex ut ipsum tincidunt, quis dapibus ante consectetur. Sed vitae quam sed dolor mattis sodales at at ligula.
			article.read-articles__article
				.read-articles__d2
					h4.read-articles__title In hac habitasse platea
					.read-articles__imagen
						img(src='images/pic02.jpg' alt='articulo imagen')
					p.read-articles__description.textos
						| Maecenas dignissim porttitor lacus ut posuere. Nulla ultrices ex ut ipsum tincidunt, quis dapibus ante consectetur. Sed vitae quam sed dolor mattis sodales at at ligula.
	.contenedor
		section.services
			.services-service
				i.fas.fa-laptop.services-service__icon(style='color: #b3b3b3;')
				h4.no-margin.services-service__title tempus feugiat
				p.no-margin.services-service__text.textos
					| Praesent ultricies ultrices vehicula. Ut nec facilisis arcu, quis volutpat elit. Vestibulum tristique, dolor non sodales ornare, est nibh consequat ex.
				a.boton.boton--secundario(href='#') Learn More
			.services-service
				i.far.fa-gem.services-service__icon(style='color: #b3b3b3; font-weight: normal;')
				h4.no-margin.services-service__title tempus feugiat
				p.no-margin.services-service__text.textos
					| Praesent ultricies ultrices vehicula. Ut nec facilisis arcu, quis volutpat elit. Vestibulum tristique, dolor non sodales ornare, est nibh consequat ex.
				a.boton.boton--secundario(href='#') Learn More
			.services-service
				i.fas.fa-taxi.services-service__icon(style='color: #b3b3b3;')
				h4.no-margin.services-service__title tempus feugiat
				p.no-margin.services-service__text.textos
					| Praesent ultricies ultrices vehicula. Ut nec facilisis arcu, quis volutpat elit. Vestibulum tristique, dolor non sodales ornare, est nibh consequat ex.
				a.boton.boton--secundario(href='#') Learn More
	footer.footer
		.contenedor
			h3.footer__title Get in touch
			form.formulario(method="POST", id="formulario-send-email")
				.campo
					label.campo__label(for='name') Name
					input#name.campo__input(type='text', name="name", autocomplete='off')
				.campo
					label.campo__label(for='email') Email
					input#email.campo__input(type='email', name="email", autocomplete='off')
				.campo.campo-textarea
					label.campo__label(for='message') Message
					textarea#message.campo__input.campo__input--textarea(name="message")
				input.boton.formulario__send(type='submit' value='Send message')
				p.formulario-text &copy; Untitled Design: TEMPLATED. Images Unsplash
	div.message-form-email
		span Se envio el correo correctamente
	script.
		const formSendEmail = document.querySelector("#formulario-send-email");
		const btnSend = document.querySelector("#formulario-send-email .boton.formulario__send");
		const messageFormEmail = document.querySelector(".message-form-email");
		formSendEmail.addEventListener("submit", function(e){
			e.preventDefault();
			const formData = new FormData(formSendEmail);
			btnSend.setAttribute("disabled", true);
			fetch('/send-email', {
				method: "POST",
				body: formData
			})
				.then(result => result.json())
				.then(data => {
					console.log(data)
					if(data.message){
						messageFormEmail.style.animationName = "toMiddleMessage";
						messageFormEmail.style.animationDuration = ".5s";
						messageFormEmail.style.animationIterationCount = "1";
						messageFormEmail.style.animationTimingFunction = "linear";
						messageFormEmail.style.animationFillMode = "forwards";
						formSendEmail.reset();
						setTimeout(function(){
							btnSend.setAttribute("disabled", false);
							messageFormEmail.style.animationName = "toMiddleMessageHide";
						}, 4000);
					}
				})
				.catch(error => console.log(error));
		});
