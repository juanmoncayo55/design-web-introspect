extends layout.pug

block content
    section.contenedor-contacto
        div.contenedor.contenido-contacto
            form#formContact.contacto-formulario
                p.contacto-formulario__title Contáctenos
                div.contacto-formulario_div
                    label(for="fullname") Fullname
                    input.contacto-formulario__input(type="text", name="fullname", id="fullname", placeholder="Tu nombre completo")
                div.contacto-formulario_div
                    label(for="email") Email
                    input.contacto-formulario__input(type="email", name="email_contacto", id="email", placeholder="Tu correo electronico")
                div.contacto-formulario_div.contacto-formulario_div--subject
                    label(for="subject") Subject
                    input.contacto-formulario__input(type="text", name="title_message", id="subject", placeholder="Título del mensaje")
                div.contacto-formulario_div.contacto-formulario_div--message
                    label(for="message") Mensaje
                    textarea.contacto-formulario__input(name="message_contacto", id="message", placeholder="Dinos tu mensaje")
                div.contacto-formulario_div.contacto-formulario_div--submit
                    input.contacto-formulario__submit(type="submit", value="Enviar Mensaje")
            article.contacto-map
                iframe(src="https://www.google.com/maps/embed?pb=!1m14!1m12!1m3!1d63778.73549479068!2d-76.60817519081239!3d2.450095399177583!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!5e0!3m2!1ses-419!2sco!4v1705981291299!5m2!1ses-419!2sco", width="100%", height="100%", style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade")
            div.contacto-details
                div.contacto-details-item
                    i.fas.fa-map-marker-alt
                    p.contact-details-item__text Address: 198 West 21th Street,<br />Suite 721 New York NY 10016
                div.contacto-details-item
                    i.fas.fa-phone-alt
                    p.contact-details-item__text Phone: <a href="tel://1235235598">+ 1235 2355 98</a>
                div.contacto-details-item
                    i.fas.fa-paper-plane
                    p.contact-details-item__text Email: <a href="mailto:info@yoursite.com">info@yoursite.com</a>
                div.contacto-details-item
                    i.fas.fa-globe-americas
                    p.contact-details-item__text Website <a href="http://yoursite.com" target="_blank">yoursite.com</a>
        script.
            const formContact = document.querySelector("#formContact");

            formContact.addEventListener("submit", function(e){
                e.preventDefault();
                const formData = new FormData(formContact);
                document.querySelector(".contacto-formulario_div--submit").insertAdjacentHTML('beforeend', "<p class='message-of-comment message-of-contact'>Se envio el correo</p>");
                fetch('send-email-admin', {
                    method: "POST",
                    body: formData
                })
                    .then(result => result.json())
                    .then(data => {
                        formContact.reset();
                        setTimeout(function(){
                            document.querySelector('.message-of-comment.message-of-contact').remove();
                        }, 3000);
                        console.log(data);
                    })
                    .then(err => console.log(err));
            });
